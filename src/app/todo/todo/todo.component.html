<div class="row mb-4">
  <div class="col">
    <h3>Waiting</h3>
    <ol class="list-group">
      @for (todo of getTodosByStatus('waiting'); track $index) {
        <li class="list-group-item d-flex justify-content-between align-items-center">
          <div>
            <strong>{{todo.name}}</strong>: {{todo.content}}
          </div>
          <div>
            <button (click)="changeStatus(todo, 'in progress')" class="btn btn-sm btn-warning me-2">In Progress</button>
            <button (click)="deleteTodo(todo)" class="btn btn-sm btn-danger"><i class="fa fa-trash" aria-hidden="true"></i></button>
          </div>
        </li>
      }
    </ol>
  </div>

  <div class="col">
    <h3>In Progress</h3>
    <ol class="list-group">
      @for (todo of getTodosByStatus('in progress'); track $index) {
        <li class="list-group-item d-flex justify-content-between align-items-center">
          <div>
            <strong>{{todo.name}}</strong>: {{todo.content}}
          </div>
          <div>
            <button (click)="changeStatus(todo, 'waiting')" class="btn btn-sm btn-primary me-2">Waiting</button>
            <button (click)="changeStatus(todo, 'done')" class="btn btn-sm btn-success me-2">Done</button>
            <button (click)="deleteTodo(todo)" class="btn btn-sm btn-danger"><i class="fa fa-trash" aria-hidden="true"></i></button>
          </div>
        </li>
      }
    </ol>
  </div>

  <div class="col">
    <h3>Done</h3>
    <ol class="list-group">
      @for (todo of getTodosByStatus('done'); track $index) {
        <li class="list-group-item d-flex justify-content-between align-items-center">
          <div>
            <strong>{{todo.name}}</strong>: {{todo.content}}
          </div>
          <div>
            <button (click)="changeStatus(todo, 'waiting')" class="btn btn-sm btn-primary me-2">Waiting</button>
            <button (click)="deleteTodo(todo)" class="btn btn-sm btn-danger"><i class="fa fa-trash" aria-hidden="true"></i></button>
          </div>
        </li>
      }
    </ol>
  </div>
</div>

<div class="col">
  <h3>Add a ToDo</h3>
  <label for="name">Name:</label>
  <input [(ngModel)]="todo.name" type="text" class="form-control" placeholder="name" />

  <label for="content">Content:</label>
  <input [(ngModel)]="todo.content" type="text" class="form-control" placeholder="content" />

  <button (click)="addTodo()" [disabled]="!todo.name.trim() || !todo.content.trim()" class="btn btn-primary m-2">Add</button>
</div>
